<div class="container mt-5">
  <h2 class="text-center mb-4">Payee Management</h2>

  <!-- Buttons -->
  <div class="text-center mb-4">
    <button class="btn btn-primary me-3" (click)="toggleAddForm()">Add Payee</button>
    <button class="btn btn-secondary me-3" (click)="toggleList()">List All Payees</button>
    <button class="btn btn-danger" (click)="toggleDeleteForm()">Delete Payee</button>
  </div>

  <!-- Success & Error messages -->
  <div *ngIf="errorMessage" class="alert alert-danger text-center">{{ errorMessage }}</div>
  <div *ngIf="successMessage" class="alert alert-success text-center">{{ successMessage }}</div>

  <!-- Add Payee Form -->
  <div *ngIf="showAddForm" class="card p-4 shadow-sm">
    <div class="mb-3">
      <label for="beneficiaryName" class="form-label">Beneficiary Name</label>
      <input id="beneficiaryName" type="text" class="form-control" [(ngModel)]="newPayee.beneficiaryName" name="beneficiaryName" placeholder="Enter beneficiary name" title="Beneficiary Name" required />
    </div>
    <div class="mb-3">
      <label for="beneficiaryAccountNumber" class="form-label">Account Number</label>
      <input id="beneficiaryAccountNumber" type="text" class="form-control" [(ngModel)]="newPayee.beneficiaryAccountNumber" name="beneficiaryAccountNumber" placeholder="Enter account number" title="Account Number" required />
    </div>
    <div class="mb-3">
      <label for="nickname" class="form-label">Nickname</label>
      <input id="nickname" type="text" class="form-control" [(ngModel)]="newPayee.nickname" name="nickname" placeholder="Enter nickname" title="Nickname" />
    </div>
    <div class="mb-3">
      <label for="transactionPasswordAdd" class="form-label">Transaction Password</label>
      <input id="transactionPasswordAdd" type="password" class="form-control" [(ngModel)]="transactionPassword" name="transactionPasswordAdd" placeholder="Enter transaction password" title="Transaction Password" required />
    </div>
    <button class="btn btn-success w-100" (click)="addPayee()">Add Payee</button>
  </div>

  <!-- List All Payees -->
  <div *ngIf="showList" class="card p-4 shadow-sm mt-4">
    <h4 class="mb-3">Your Payees</h4>
    <table class="table table-bordered table-hover" *ngIf="payees.length > 0">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Account Number</th>
          <th>Nickname</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of payees; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ p.beneficiaryName }}</td>
          <td>{{ p.beneficiaryAccountNumber }}</td>
          <td>{{ p.nickname }}</td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="payees.length === 0 && !errorMessage" class="text-center text-muted">
      No payees added yet.
    </div>
  </div>

  <!-- Delete Payee Form -->
  <div *ngIf="showDeleteForm" class="card p-4 shadow-sm mt-4">
    <div class="mb-3">
      <label for="deletePayeeId" class="form-label">Payee ID</label>
      <input id="deletePayeeId" type="number" class="form-control" [(ngModel)]="deletePayeeId" name="deletePayeeId" placeholder="Enter payee ID" title="Payee ID" required />
    </div>
    <div class="mb-3">
      <label for="transactionPasswordDelete" class="form-label">Transaction Password</label>
      <input id="transactionPasswordDelete" type="password" class="form-control" [(ngModel)]="transactionPassword" name="transactionPasswordDelete" placeholder="Enter transaction password" title="Transaction Password" required />
    </div>
    <button class="btn btn-danger w-100" (click)="deletePayee()">Delete Payee</button>
  </div>
</div>
